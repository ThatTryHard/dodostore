{% extends 'base.html' %}
{% block content %}
<h1>Add New Product</h1>

<form method="POST", enctype="multipart/form-data">
    {% csrf_token %}

    <label for="formGroupInput1" class="form-label">Product Name</label>
    <div class="form-floating mb-3">
        <input type="text" name="name" class="form-control" id="name" placeholder="Product Name" value="{{ form.name.value|default_if_none:'' }}" required>
        <label for="name">Product Name</label>
    </div>

    <label for="productImage">Product Image</label>
    <div class="form-floating mb-3">
        <input class="form-control" type="file" name="image" id="productImage" accept="image/*" onchange="previewImage(event)">
    </div>

    <div class="image-preview-container" style="width: 250px; height: 250px;">
        <img id="imagePreview" src="#" alt="Image Preview" class="image-preview" style="max-width: 100%; max-height: 100%; display: none;">
    </div>

    <label for="formGroupInput2" class="form-label">Product Price</label>
    <div class="form-floating mb-3">
        <input type="number" name="price" class="form-control" id="price" placeholder="Product Price" value="{{ form.price.value|default_if_none:'' }}" required>
        <label for="price">Product Price</label>
    </div>

    <label for="formGroupInput3" class="form-label">Product Description</label>
    <div class="form-floating">
        <textarea class="form-control" name="description" placeholder="Product Description" id="floatingTextarea2" style="height: 150px" required>{{ form.description.value|default_if_none:'' }}</textarea>
        <label for="floatingTextarea2">Product Description</label>
    </div>

    <label for="formGroupInput4" class="form-label">Stock</label>
    <div class="form-floating mb-3">
        <input type="number" name="stock" class="form-control" id="stock" placeholder="Stock" value="{{ form.stock.value|default_if_none:'' }}" required>
        <label for="stock">Stock</label>
    </div>

    <label for="formGroupInput5" class="form-label">Category</label>
    <div class="form-floating mb-3">
        <input type="text" name="category" class="form-control" id="category" placeholder="Category" value="{{ form.category.value|default_if_none:'' }}" required>
        <label for="category">Category</label>
    </div>

    <div class="form-actions mt-3">
        <input type="submit" class="btn btn-outline-secondary" value="Add Product">
        <a href="{% url 'main:product_list' %}" class="btn btn-outline-secondary">Return to Products</a>
    </div>
</form>

{% endblock %}
